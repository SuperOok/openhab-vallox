<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="vallox"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
        xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0 http://eclipse.org/smarthome/schemas/thing-description-1.0.0.xsd">


<thing-type id="kwl90se">
    <label>Vallox KWL 90SE central venting unit</label>
    <description>Gives access to all sensor values, internal status and control over fans.</description>
    <channels>
	     <channel id="FanSpeed"                         typeId="FanSpeed"              />
	     <channel id="TempInside"                        typeId="TempInside"              />
	     <channel id="TempOutside"                       typeId="TempOutside"              />
	     <channel id="TempExhaust"                       typeId="TempExhaust"              />
	     <channel id="TempIncomming"                     typeId="TempIncomming"              />
	      <channel id="PowerState"                        typeId="PowerState"              />
     <channel id="CO2AdjustState"                    typeId="CO2AdjustState"              />
     <channel id="HumidityAdjustState"               typeId="HumidityAdjustState"              />
     <channel id="HeatingState"                      typeId="HeatingState"              />
     <channel id="FilterGuardIndicator"              typeId="FilterGuardIndicator"              />
     <channel id="HeatingIndicator"                  typeId="HeatingIndicator"              />
     <channel id="FaultIndicator"                    typeId="FaultIndicator"              />
     <channel id="ServiceReminderIndicator"          typeId="ServiceReminderIndicator"              />
     <channel id="Humidity"                          typeId="Humidity"              />
     <channel id="BasicHumidityLevel"                typeId="BasicHumidityLevel"              />
     <channel id="HumiditySensor1"                   typeId="HumiditySensor1"              />
     <channel id="HumiditySensor2"                   typeId="HumiditySensor2"              />
     <channel id="CO2High"                           typeId="CO2High"              />
     <channel id="CO2Low"                            typeId="CO2Low"              />
     <channel id="CO2SetPointHigh"                   typeId="CO2SetPointHigh"              />
     <channel id="CO2SetPointLow"                    typeId="CO2SetPointLow"              />
     <channel id="FanSpeedMax"                       typeId="FanSpeedMax"              />
     <channel id="FanSpeedMin"                       typeId="FanSpeedMin"              />
     <channel id="DCFanInputAdjustment"              typeId="DCFanInputAdjustment"              />
     <channel id="DCFanOutputAdjustment"             typeId="DCFanOutputAdjustment"              />
     <channel id="InputFanStopThreshold"             typeId="InputFanStopThreshold"              />
     <channel id="HeatingSetPoint"                   typeId="HeatingSetPoint"              />
     <channel id="PreHeatingSetPoint"                typeId="PreHeatingSetPoint"              />
     <channel id="HrcBypassThreshold"                typeId="HrcBypassThreshold"              />
     <channel id="CellDefrostingThreshold"           typeId="CellDefrostingThreshold"              />
     <channel id="AdjustmentIntervalMinutes"         typeId="AdjustmentIntervalMinutes"              />
     <channel id="AutomaticHumidityLevelSeekerState" typeId="AutomaticHumidityLevelSeekerState"              /> 
     <channel id="BoostSwitchMode"                   typeId="BoostSwitchMode"              /> 
     <channel id="RadiatorType"                      typeId="RadiatorType"              /> 
     <channel id="CascadeAdjust"                     typeId="CascadeAdjust"              /> 
     <channel id="MaxSpeedLimitMode"                 typeId="MaxSpeedLimitMode"              /> 
     <channel id="ServiceReminder"                   typeId="ServiceReminder"              />
     <channel id="PostHeatingOn"                     typeId="PostHeatingOn"              />
     <channel id="DamperMotorPosition"               typeId="DamperMotorPosition"              />
     <channel id="FaultSignalRelayClosed"            typeId="FaultSignalRelayClosed"              />
     <channel id="SupplyFanOff"                      typeId="SupplyFanOff"              />
     <channel id="PreHeatingOn"                      typeId="PreHeatingOn"              />
     <channel id="ExhaustFanOff"                     typeId="ExhaustFanOff"              />
     <channel id="FirePlaceBoosterClosed"            typeId="FirePlaceBoosterClosed"              />
     <channel id="IncommingCurrent"                  typeId="IncommingCurrent"              />
     <channel id="LastErrorNumber"                   typeId="LastErrorNumber"              />
     <channel id="InEfficiency"                      typeId="InEfficiency"              />
     <channel id="OutEfficiency"                     typeId="OutEfficiency"              />
     <channel id="AverageEfficiency"                 typeId="AverageEfficiency"              />
    </channels>
    <config-description>
        <parameter name="host" type="text" required="true">
            <label>Host</label>
            <description>Host name or IP address of RS483-to-Ethernet gateway. The gateway needs to
            be configured as TCP server and the serial connection to the vallox with 9600 baud, 8-N-1.
            </description>
            <default>lwip</default>
        </parameter>
        <parameter name="port" type="integer" required="true">
            <label>Port</label>
            <description>TCP Port that the RS485-to-Ethernet Gateway listens to.</description>
            <default>26</default>
        </parameter>
    </config-description>
</thing-type>

<channel-type id="FanSpeed">
    <item-type>Number</item-type>
    <label>Fan Speed</label>
    <description>Speed of the fan, an integer value of 1 to 8</description>
    <category>Fan</category>
    <state min="1" max="8" step="1" readOnly="false"></state>
</channel-type>

<channel-type id="TempInside">
    <item-type>Number</item-type>
    <label>Temp Inside</label>
    <description>Current temperature inside the building.</description>
    <category>Temperature</category>
    <state min="-20" max="40" step="0.1" pattern="%.1f 째C" readOnly="true" />
</channel-type>

<channel-type id="TempOutside">
    <item-type>Number</item-type>
    <label>Temp Outside</label>
    <description>Current temperature outside the building.</description>
    <category>Temperature</category>
    <state min="-20" max="40" step="0.1" pattern="%.1f 째C" readOnly="true" />
</channel-type>

<channel-type id="TempExhaust">
    <item-type>Number</item-type>
    <label>Temp Exhaust</label>
    <description>Current temperature of the air flow exhausting the building.</description>
    <category>Temperature</category>
    <state min="-20" max="40" step="0.1" pattern="%.1f 째C" readOnly="true" />
</channel-type>

<channel-type id="TempIncomming">
    <item-type>Number</item-type>
    <label>Temp Incomming</label>
    <description>Current temperature of the air flow incomming to the building.</description>
    <category>Temperature</category>
    <state min="-20" max="40" step="0.1" pattern="%.1f 째C" readOnly="true" />
</channel-type>

</thing:thing-descriptions>